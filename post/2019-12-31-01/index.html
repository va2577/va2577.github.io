<!DOCTYPE html>
<html><head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ドルコスト平均法での運用にむけて - Espresso &amp; Onigiri</title>
  <link rel="shortcut icon" href="/img/favicon.png" type="image/png">
  <link rel="apple-touch-icon" href="/img/apple-touch-icon.png">
  <link rel="stylesheet" href="/css/main.css">
</head>
<body><header>
  <ul>
    <li>
      <a href="/">
        <img src="/img/identicon.png" alt="icon">
        <span class="title">Espresso &amp; Onigiri</span>
      </a>
    </li>
    <li class="nav-li">
      <a href="/post/">
        <svg class="octicon octicon-note" viewBox="0 0 14 16" version="1.1" aria-hidden="true"><path fill-rule="evenodd" d="M3 10h4V9H3v1zm0-2h6V7H3v1zm0-2h8V5H3v1zm10 6H1V3h12v9zM1 2c-.55 0-1 .45-1 1v9c0 .55.45 1 1 1h12c.55 0 1-.45 1-1V3c0-.55-.45-1-1-1H1z"></path></svg>
        <span>BLOG</span>
      </a>
    </li>
    <li class="nav-li">
      <a href="/tags/">
        <svg class="octicon octicon-tag" viewBox="0 0 14 16" version="1.1" aria-hidden="true"><path fill-rule="evenodd" d="M7.73 1.73C7.26 1.26 6.62 1 5.96 1H3.5C2.13 1 1 2.13 1 3.5v2.47c0 .66.27 1.3.73 1.77l6.06 6.06c.39.39 1.02.39 1.41 0l4.59-4.59a.996.996 0 000-1.41L7.73 1.73zM2.38 7.09c-.31-.3-.47-.7-.47-1.13V3.5c0-.88.72-1.59 1.59-1.59h2.47c.42 0 .83.16 1.13.47l6.14 6.13-4.73 4.73-6.13-6.15zM3.01 3h2v2H3V3h.01z"></path></svg>
        <span>TAGS</span>
      </a>
    </li>
    <li class="nav-li">
      <a href="/categories/">
        <svg class="octicon octicon-file-directory" viewBox="0 0 14 16" version="1.1" aria-hidden="true"><path fill-rule="evenodd" d="M13 4H7V3c0-.66-.31-1-1-1H1c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1V5c0-.55-.45-1-1-1zM6 4H1V3h5v1z"></path></svg>
        <span>CATEGORIES</span>
      </a>
    </li>
    <li class="nav-li">
      <a href="/about/">
        <svg class="octicon octicon-person" viewBox="0 0 12 16" version="1.1" aria-hidden="true"><path fill-rule="evenodd" d="M12 14.002a.998.998 0 01-.998.998H1.001A1 1 0 010 13.999V13c0-2.633 4-4 4-4s.229-.409 0-1c-.841-.62-.944-1.59-1-4 .173-2.413 1.867-3 3-3s2.827.586 3 3c-.056 2.41-.159 3.38-1 4-.229.59 0 1 0 1s4 1.367 4 4v1.002z"></path></svg>
        <span>ABOUT</span>
      </a>
    </li>
    <li class="nav-li">
      <a href="/privacy/">
        <svg class="octicon octicon-shield" viewBox="0 0 14 16" version="1.1" aria-hidden="true"><path fill-rule="evenodd" d="M0 2l7-2 7 2v6.02C14 12.69 8.69 16 7 16c-1.69 0-7-3.31-7-7.98V2zm1 .75L7 1l6 1.75v5.268C13 12.104 8.449 15 7 15c-1.449 0-6-2.896-6-6.982V2.75zm1 .75L7 2v12c-1.207 0-5-2.482-5-5.985V3.5z"></path></svg>
        <span>PRIVACY</span>
      </a>
    </li>
  </ul>
</header>
<div class="absolute">
  <nav>
    <a href="/">
      <svg class="octicon octicon-home" viewBox="0 0 16 16" version="1.1" aria-hidden="true"><path fill-rule="evenodd" d="M16 9l-3-3V2h-2v2L8 1 0 9h2l1 5c0 .55.45 1 1 1h8c.55 0 1-.45 1-1l1-5h2zm-4 5H9v-4H7v4H4L2.81 7.69 8 2.5l5.19 5.19L12 14z"></path></svg>
      
    </a>
    <a href="/post/">
      <svg class="octicon octicon-note" viewBox="0 0 14 16" version="1.1" aria-hidden="true"><path fill-rule="evenodd" d="M3 10h4V9H3v1zm0-2h6V7H3v1zm0-2h8V5H3v1zm10 6H1V3h12v9zM1 2c-.55 0-1 .45-1 1v9c0 .55.45 1 1 1h12c.55 0 1-.45 1-1V3c0-.55-.45-1-1-1H1z"></path></svg>
      
    </a>
    <a href="/tags/">
      <svg class="octicon octicon-tag" viewBox="0 0 14 16" version="1.1" aria-hidden="true"><path fill-rule="evenodd" d="M7.73 1.73C7.26 1.26 6.62 1 5.96 1H3.5C2.13 1 1 2.13 1 3.5v2.47c0 .66.27 1.3.73 1.77l6.06 6.06c.39.39 1.02.39 1.41 0l4.59-4.59a.996.996 0 000-1.41L7.73 1.73zM2.38 7.09c-.31-.3-.47-.7-.47-1.13V3.5c0-.88.72-1.59 1.59-1.59h2.47c.42 0 .83.16 1.13.47l6.14 6.13-4.73 4.73-6.13-6.15zM3.01 3h2v2H3V3h.01z"></path></svg>
      
    </a>
    <a href="/categories/">
      <svg class="octicon octicon-file-directory" viewBox="0 0 14 16" version="1.1" aria-hidden="true"><path fill-rule="evenodd" d="M13 4H7V3c0-.66-.31-1-1-1H1c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1V5c0-.55-.45-1-1-1zM6 4H1V3h5v1z"></path></svg>
      
    </a>
    <a href="/about/">
      <svg class="octicon octicon-person" viewBox="0 0 12 16" version="1.1" aria-hidden="true"><path fill-rule="evenodd" d="M12 14.002a.998.998 0 01-.998.998H1.001A1 1 0 010 13.999V13c0-2.633 4-4 4-4s.229-.409 0-1c-.841-.62-.944-1.59-1-4 .173-2.413 1.867-3 3-3s2.827.586 3 3c-.056 2.41-.159 3.38-1 4-.229.59 0 1 0 1s4 1.367 4 4v1.002z"></path></svg>
      
    </a>
    <a href="/privacy/">
      <svg class="octicon octicon-shield" viewBox="0 0 14 16" version="1.1" aria-hidden="true"><path fill-rule="evenodd" d="M0 2l7-2 7 2v6.02C14 12.69 8.69 16 7 16c-1.69 0-7-3.31-7-7.98V2zm1 .75L7 1l6 1.75v5.268C13 12.104 8.449 15 7 15c-1.449 0-6-2.896-6-6.982V2.75zm1 .75L7 2v12c-1.207 0-5-2.482-5-5.985V3.5z"></path></svg>
      
    </a>
  </nav>
</div>
<style>
  header {
    align-items: center;
    border-bottom: #e2e8f0 solid 1px;
    display: flex;
    height: 92px;
    margin: 0px auto;
    width: 992px;
  }
  header ul {
    align-items: center;
    display: flex;
    flex-direction: row;
    flex-wrap: wrap;
    justify-content: space-between;
    list-style-type: none;
    margin: 0px;
    padding: 0px;
    width: 100%;
  }
  header li:first-child a {
    align-items: center;
    display: flex;
  }
  header li:first-child span {
    align-items: center;
    color: #2f495e;
    font-size: 24px;
    margin-left: 6px;
  }
  header a {
    color: #2f495e;
  }
  header img {
    display: inline-block;
    height: 40px;
    width: 40px;
  }
  .absolute {
    display: none;
    position: absolute;
  }
  .absolute nav {
    background-color: #fff;
    border-top: #e2e8f0 solid 1px;
    bottom: 0;
    display: flex;
    height: 60px;
    justify-content: space-between;
    left: 0;
    position: fixed;
    right: 0;
    z-index: 30;
  }
  .absolute nav a {
    color: #2f495e;
    padding-bottom: 0;
    padding-left: .5rem;
    padding-right: .5rem;
    padding-top: .75rem;
    text-align: center;
  }
  .octicon {
    display: inline-block;
    fill: #2f495e;
    height: 32px;
    line-height: 56px;
    vertical-align: middle;
    width: 32px;
  }
  @media screen and (max-width: 992px) {
    header {
      padding-left: 1%;
      padding-right: 1%;
      width: 98%;
    }
    header .nav-li {
      display: none;
    }
    .absolute {
      display: block;
    }
  }
</style>
<div id="content">
  <main>
    <h1>ドルコスト平均法での運用にむけて</h1>
    
      <div><time>December 31, 2019</time></div>
    
    
    <article>
      
        <aside class="ads">
  <div>広告</div>
  <div>
    <script async="" src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

    <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9305907051774965" data-ad-slot="2028899530" data-ad-format="auto"></ins>
    <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
  </div>
</aside>
<style>
  aside.ads {
    margin-bottom: 2.5rem;
    margin-top: 2.5rem;
  }
</style>

      
      <p>どの株価指数が良いのか調べよう。</p>
<blockquote>
<p>あまりにも自分がダメなので、ちょっと来年は株価指数をドルコスト平均法で持ってみようか考えている。</p>
<p><cite><a href="/post/2019-12-29-01/">2019 年の相場を振り返った</a></cite></p>
</blockquote>
<p>以前の記事の中でドルコスト平均法で運用することを考えていると書いた。</p>
<p>それには理由がある。</p>
<blockquote>
<p>仮にあなたがなんとか１日に６ドル節約し、そのお金で毎月の終わりに、バンガードのS&amp;P500インデックスファンドを買ったとしたらどうなるだろう？
そんな投資を、税金が繰り延べられる退職積立制度で行えて、また、大型株の長期的なリターンは平均で年にだいたい１０％、４７年後に６５歳で引退したとしたらそのときの財産額は２４０万ドルになっている。</p>
<p><cite>天才数学者、ラスベガスとウォール街を制す CHAPTER 23 お金持ち研究 P.116</cite></p>
</blockquote>
<p>最近読んだ本の影響・・。</p>
<hr>
<p>２０１９年は７月から資金の１０００分の１で取引していた。</p>
<p>残りの９９９は口座残高として眠ったまま。
何もなっていない。
銀行口座のわずかな金利すらない。</p>
<p>そうしてしまうくらいなら、いっそ平凡なドルコスト平均法で持った方がいいんじゃないかと考えた。</p>
<p>やたら将来への不安から、日常に支障が出るくらい出費にも気を使う。
そんな生き方をしていたら、少ない給料でも月に２０数万程度は貯蓄（あるいは運用）に回せるくらいになった（結果的に）。</p>
<p>でも、これが良いとか感じているわけではない。
改めて引用した文章を読んで、たった「２４０万ドル」と思ってしまった。
１０８円で換算すると、２億５９２０万円。
４７年で、たったの２億。
そう感じるようになってしまった。</p>
<p>お金が全てじゃないけど。
でも、多くのことはお金で解決できる。
そして今はお金で苦しむ。
お金のために関わりたくもない人と関わらないといけない状況に追い込まれている。
（この先もそうだとは限らないとは思うけど）</p>
<p>トレードで一定の結果を残せるようになるまでは。
今の基準（１０００分の１）でやっていこうと思っている。
利益になった時の絶対的な金額は少ないけど。
損失になった時の絶対的な金額も少ない。
結果が出せるようになったら取引数量を増やせばいい。
そこで初めてレバレッジを効かせればいい。</p>
<p>それまでは甘んじていよう。
そう思った。
偉そうだけど。</p>
<hr>
<p>寄り道をしてしまったので話を戻すけど。</p>
<p>ドルコスト平均法で持つにしても。
始まりが２００７〜２００８年のような状況だときつい。
運用を始めた直後に５０％下落とか。
そうなるのか、ならないのか。
わからないけど。
手探りで調べようと思った。</p>
<p>今回、調べたのは次の３点。</p>
<ul>
<li>実質GDP成長率</li>
<li>政策金利</li>
<li>株価指数</li>
</ul>
<p>長期的な成長を考えると、これまで指数関数的に右肩上がりになっている株価指数がいいのかと考えている。
ただ、この先も米国が良いとは限らない、懸念もある。</p>
<p>主観的に主要そうな国を調べた。</p>
<h2 id="実質gdp成長率">実質GDP成長率</h2>
<p>国の勢いを把握するのに適した指標かなと思って実質GDP成長率を調べた。</p>
<blockquote>
<p>国民経済計算は、我が国の経済の全体像を国際比較可能な形で体系的に記録することを目的に、国連の定める国際基準(SNA)に準拠しつつ、統計法 に基づく基幹統計として、国民経済計算の作成基準及び作成方法に基づき作成される。</p>
<p><cite><a href="https://www.esri.cao.go.jp/jp/sna/contents/sna.html">国民経済計算とは - 内閣府</a></cite></p>
</blockquote>
<div>
  <canvas id="gdp"></canvas>
</div>
<p>先進国は<a href="https://ja.wikipedia.org/wiki/%E3%82%B5%E3%83%96%E3%83%97%E3%83%A9%E3%82%A4%E3%83%A0%E4%BD%8F%E5%AE%85%E3%83%AD%E3%83%BC%E3%83%B3%E5%8D%B1%E6%A9%9F">サブプライム住宅ローン危機</a>、<a href="https://ja.wikipedia.org/wiki/%E3%83%AA%E3%83%BC%E3%83%9E%E3%83%B3%E3%83%BB%E3%82%B7%E3%83%A7%E3%83%83%E3%82%AF">リーマン・ショック</a>の直後の２００９年、マイナスからのスタート。</p>
<p>そんな中、中国、インドは８〜１０％の実質GDP成長率。
当時は、指標や経済に興味がなかったから、中国がこんなに成長しているなんて知らなかった。
そして、先進国がこんな悪かったなんて知らなかった。
多くはないけど、それまでと変わらず給料をもらえていたし、実感がなかった。</p>
<p>これは成長率なので、マイナスでない限り成長しているわけで、それは良いことだと思う。
そう言った意味では、２０１１年、日本だけマイナスに入っているのが気になる（それがわずかであったとしても）。</p>
<p>中国は高い成長率をまだ維持しているものの、減少傾向にあるのが気になる。
<a href="https://www.bloomberg.co.jp/news/articles/2016-04-13/O5JWBX6JTSEM01">中国ＧＤＰに奇妙な規則性－信頼性疑われる中、浮かび上がるパターン</a>ということも言われている（いた）し。</p>
<h2 id="政策金利">政策金利</h2>
<p>国の勢いを調べるのに、もう一つ。
普段、FX・通貨の取引をしていることもあるけど。
先進国の中央銀行は景気をコントロールするのに政策金利で誘導しているから。</p>
<p>中央銀行に主導するだけの力がない状況の場合は、経済主導で政策金利を動かさざるを得ない、っていうのも見るけど。
トルコとか、アルゼンチンとか。</p>
<hr>
<p>政策金利・金融政策について</p>
<ul>
<li>利下げ・金融緩和<br>
金利を下げる。
→お金を借りた時に返す利息が少なくなる。
→お金を借りやすくなる。
→お金が回る。
→お金を使う。
→景気が良くなる。
→利下げ・金融緩和は景気を刺激するために行われる。</li>
<li>利上げ・金融引き締め<br>
反対に金利を上げる。
→お金を借りた時に返す利息が多くなる。
→お金を借りづらくなる。
→お金が回らなくなる。
→お金を使えない。
→景気が悪くなる（景気の過熱を抑える）。
利上げ・金融引き締めはバブル崩壊を回避するために行われる。
２０１９年にFRBが利下げをしたのはそういうことだったと思っている。</li>
</ul>
<hr>
<p>どちらにしても、その国の状況を見る判断材料になる気がした。</p>
<div>
  <canvas id="interest-rate"></canvas>
</div>
<p>中国、インド、南アフリカ共和国は高い金利を維持している。
発展途上国の特徴だろうか。</p>
<p>調べた中では、先進国はどれも低い政策金利。
そんな中、２０１６年から米国は金利を上げている。
１.７５まで上がったところで、２０１９年、予防的な目的もあるからか、金利を下げた。</p>
<h2 id="株価指数">株価指数</h2>
<p>株価指数。</p>
<p><a href="https://www.wsj.com/market-data/stocks">ウォール・ストリート・ジャーナル</a>から持ってきたデータだけど。
マイナーだからか、南アフリカ共和国のものがなかったので、紫は米国のS&amp;P500種株価指数になっている。</p>
<div>
  <canvas id="history"></canvas>
</div>
<p>米国は２００９年の第４四半期を基準にすると、下がる時もあるけど、２００％程度の成長を見せている。</p>
<p>日本は１２５％程度。</p>
<p>気になるのは中国。
２００９年の基準だとマイナスになっている。
実質GDP成長率はプラスを維持しているのに。</p>
<p>インドは株価指数も、実質GDP成長率も堅調そうで良い印象を受ける。</p>
<h2 id="peレシオ">PEレシオ</h2>
<p>株価収益率。</p>
<p>S&amp;P500だけでいうとまとめてくれているサイトもあるけど。
それ以外も考慮すると２００９年からのデータを集められなかった。</p>
<p>でも、ブルームバーグは現在時点の値を掲載してくれている。</p>
<p>グラフにはならないので。
表にまとめる。</p>
<table>
<thead>
<tr>
<th>Symbol</th>
<th>P/E Ratio</th>
</tr>
</thead>
<tbody>
<tr>
<td>SPX(us)</td>
<td>21.58</td>
</tr>
<tr>
<td>Dow(us)</td>
<td>19.62</td>
</tr>
<tr>
<td>FTSE(uk)</td>
<td>18.25</td>
</tr>
<tr>
<td>DAX(germany)</td>
<td>24.58</td>
</tr>
<tr>
<td>NKY(japan)</td>
<td>18.82</td>
</tr>
<tr>
<td>SHSZ300(china)</td>
<td>14.55</td>
</tr>
</tbody>
</table>
<p>インドはなかった。</p>
<p>追加で株価収益率を調べたのにも理由があって。</p>
<blockquote>
<p>たとえばS&amp;P500のような株価指数は、過去数年、平均ではPEレシオとトータル・リターンが逆相関の関係になっている。
簡単に言うと、PEレシオが高いと株が割高でその後のパフォーマンスは悪く、PEレシオが低いとその逆の可能性が高いということだ。
いろんな資産クラスに分散投資する投資家は、PEレシオが過去の水準に照らして高いときは株の配分を減らし、PEレシオが低いときに配分を増やせばこの関係を利用して儲けられるかもしれない。</p>
<p><cite>天才数学者、ラスベガスとウォール街を制す CHAPTER 27 資産配分と運用の考え方 P.173</cite></p>
</blockquote>
<p>本の受け売り・・
PEレシオ（株価収益率）が高いとバブルみたいなことで、その後それが弾けて株価が下落する。
だからPEレシオ（株価収益率）が過去の水準と比較して低い時に買った方がいい。</p>
<p>２０１９年の株価収益率しか集められなかったので。
一般的に適正・適当な株価収益率はどの程度なのだろう。</p>
<blockquote>
<p>株価収益率の標準値は14から20のあいだが適正とされるが当該企業の成長性に楽観的な場合は高PERまで買われ（利益の高成長が見込める場合、現行では高いPERも数年後には低い水準になることがある）、将来に不透明感が高い場合は低PERで取引される。</p>
<p><cite><a href="https://ja.wikipedia.org/wiki/%E6%A0%AA%E4%BE%A1%E5%8F%8E%E7%9B%8A%E7%8E%87">株価収益率 - Wikipedia</a></cite></p>
</blockquote>
<p>１４〜２０あたりとのこと。
これだとS&amp;P500種、DAXは少し割高なのかもしれない。</p>
<blockquote>
<p>一般的には、市場平均との比較や、その会社の過去のレンジとの比較で割高・割安を判断する場合が多い。どのくらいのPERが適当かについての基準はなく、国際比較をする場合には、マクロ的な金利水準は基より、各国の税制、企業会計の慣行などを考慮する必要がある。</p>
<p><cite><a href="https://www.nomura.co.jp/terms/english/p/per.html">PER｜証券用語解説集｜野村證券</a></cite></p>
</blockquote>
<p>こちらでは株価収益率に適当な基準はないとのこと。
確かに、環境の変化によって株価収益率の評価も変って当然のような気がする。</p>
<blockquote>
<table>
<thead>
<tr>
<th>Date</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Jan 1, 2010</td>
<td>20.70</td>
</tr>
<tr>
<td>Jan 1, 2009</td>
<td>70.91</td>
</tr>
<tr>
<td>Jan 1, 2008</td>
<td>21.46</td>
</tr>
<tr>
<td>Jan 1, 2007</td>
<td>17.36</td>
</tr>
<tr>
<td>Jan 1, 2006</td>
<td>18.07</td>
</tr>
</tbody>
</table>
<p><cite><a href="https://www.multpl.com/s-p-500-pe-ratio/table/by-year">S&amp;P 500 PE Ratio by Year</a></cite></p>
</blockquote>
<p>S&amp;P500の株価収益率を見ると、やっぱり２０を超えると高い水準になりそう。
難しいのは２０倍を超えて、この先また７０倍になるのかもしれないし、ならないのかもしれない。
早くに配分を下げてしまったら、その後、また配分を上げづらくなってしまう。
株価が上がっているのに指を加えて見ているしかない。
でも、そんなところで買いに回れはしない。
そんなことできるのは、典型的な搾取される側の人間だ。</p>
<h2 id="終わり">終わり</h2>
<p>調べてみて米国は無難そう。
だけど今からだと株価収益率が高めの水準そうなところが気になる。
こんなことを思って動けない。
２００６年、２００９年の株価収益率がどこかないかもう少し調べてみよう。</p>
<p>それから、年に１０％程度だと「税金が繰り延べられる」っていうところも重要なのかもしれない。</p>
<h2 id="参考">参考</h2>
<p>実質GDP成長率、政策金利はジェトロのデータを参考にした。</p>
<ul>
<li><a href="https://www.jetro.go.jp/world/statistics/statistics.html">国・地域別基礎的経済指標の出所一覧 | 統計ナビ - 国・地域別に見る - ジェトロ</a></li>
</ul>
<p>株価指数はウォール・ストリート・ジャーナルのデータを参考にした。</p>
<ul>
<li><a href="https://www.wsj.com/market-data/stocks">The Wall Street Journal</a></li>
</ul>
<p>株価収益率はBloombergのデータを参考にした。</p>
<ul>
<li><a href="https://www.bloomberg.com/markets/stocks">Stocks - Bloomberg</a></li>
</ul>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.bundle.min.js"></script>
<script>
  /*
   * tooltipFormat
   * Month name, day of month, year : ll : Sep 4, 1986
   * [Date Formats](https://www.chartjs.org/docs/latest/axes/cartesian/time.html#date-formats)
   * [Format](https://momentjs.com/docs/#/displaying/format/)
   *
   * unit
   * 'millisecond', 'second', 'minute', 'hour', 'day', 'week', 'month', 'quarter', 'year'
   * [Time Units](https://www.chartjs.org/docs/latest/axes/cartesian/time.html#time-units)
   */
  const main = ({ canvas, title, paths, labels, digits = 3, time = false, tooltipFormat = 'll', unit = 'day', ratio = false }) => {
    const chartColors = {
      red: 'rgb(255, 99, 132)',
      orange: 'rgb(255, 159, 64)',
      yellow: 'rgb(255, 205, 86)',
      green: 'rgb(75, 192, 192)',
      blue: 'rgb(54, 162, 235)',
      purple: 'rgb(153, 102, 255)',
      grey: 'rgb(201, 203, 207)'
    }
    const colors = [
      chartColors.red,
      chartColors.blue,
      chartColors.yellow,
      chartColors.green,
      chartColors.purple,
      chartColors.orange,
      chartColors.grey,
    ]
    const callback = (values) => {
      const roundDigits = (num, digits) => Math.round(num * Math.pow(10, digits)) / Math.pow(10, digits)
      const colorsIndex = i => i % colors.length
      const valuex = x => time ? new Date(x[0]) : x[0]
      const valuey = (x, x1st) => roundDigits(ratio ? (x[1] - x1st[1]) / x1st[1] : x[1], digits)
      const datalabels = values[0]
        // .filter(x => new Date(2019, 1 - 1, 1) <= valuex(x))
        // .filter(x => valuex(x) < new Date(2019, 4 - 1, 1))
        .map(x => valuex(x))
      const datasets = values.map((v, i) => ({
        label: labels[i],
        backgroundColor: colors[colorsIndex(i)],
        borderColor: colors[colorsIndex(i)],
        data: v.map(x => time ? { 't': valuex(x), 'y': valuey(x, v[0]) } : valuey(x, v[0])),
        fill: false,
      }))
      var ctx = document.getElementById(canvas).getContext('2d')
      var chart = new Chart(ctx, {
        // The type of chart we want to create
        type: 'line',
        // The data for our dataset
        data: {
          labels: datalabels,
          datasets: datasets,
        },
        // Configuration options go here
        options: {
          scales: {
            xAxes: time ?
            [{
              type: 'time',
              time: {
                tooltipFormat,
                unit,
              },
            }] :
            [],
          },
          // title: {
          //   display: true,
          //   text: title,
          // },
        },
      })
    }
    const iterable = paths
      .map(x => fetch(x))
    Promise.all(iterable)
      .then(x => Promise.all(x.map(response => response.json())))
      .then(callback)
  }
</script>
<script>
  window.addEventListener('load', () => {
    const paths = [
      '/json/gdp-china.json',
      // '/json/gdp-eu.json',
      '/json/gdp-germany.json',
      '/json/gdp-india.json',
      '/json/gdp-japan.json',
      '/json/gdp-southafrica.json',
      '/json/gdp-uk.json',
      '/json/gdp-us.json',
    ]
    main({ canvas: 'gdp', title: 'gdp', paths, labels: paths.map(x => x.replace('/json/gdp-', '')).map(x => x.replace('.json', '')) })
  })
</script>
<script>
  window.addEventListener('load', () => {
    const paths = [
      '/json/interest-rate-china.json',
      // '/json/interest-rate-eu.json',
      '/json/interest-rate-germany.json',
      '/json/interest-rate-india.json',
      '/json/interest-rate-japan.json',
      '/json/interest-rate-southafrica.json',
      '/json/interest-rate-uk.json',
      '/json/interest-rate-us.json',
    ]
    main({ canvas: 'interest-rate', title: 'interest-rate', paths, labels: paths.map(x => x.replace('/json/interest-rate-', '')).map(x => x.replace('.json', '')) })
  })
</script>
<script>
  window.addEventListener('load', () => {
    const paths = [
      '/json/history-SHCOMP.json',
      '/json/history-DAX.json',
      '/json/history-XBOM.json',
      '/json/history-NIK.json',
      '/json/history-SPX.json',
      '/json/history-UKX.json',
      '/json/history-DJIA.json',
    ]
    const labels = [
      'SHCOMP(china)',
      'DAX(germany)',
      'XBOM(india)',
      'NIK(japan)',
      'SPX(us)',
      'UKX(uk)',
      'DJIA(us)',
    ]
    main({
      canvas: 'history',
      title: 'history',
      paths,
      labels,
      time: true,
      unit: 'quarter',
      ratio: true,
    })
  })
</script>
      
        <aside class="ads">
  <div>広告</div>
  <div>
    <script async="" src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

    <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9305907051774965" data-ad-slot="2028899530" data-ad-format="auto"></ins>
    <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
  </div>
</aside>
<style>
  aside.ads {
    margin-bottom: 2.5rem;
    margin-top: 2.5rem;
  }
</style>

      
    </article>
  </main>

        </div><footer>
  <small>&copy; 2015 Espresso &amp; Onigiri</small>
  <a href="https://gohugo.io">
    <img alt="Hugo" src="/img/hugo-logo-wide.svg">
  </a>
</footer>
<style>
  footer {
    align-items: center;
    border-top: #e2e8f0 solid 1px;
    display: flex;
    flex-direction: row;
    flex-wrap: wrap;
    height: 73px;
    justify-content: space-between;
    margin: 0px auto;
    width: 992px;
  }
  footer small {
    height: 40px;
    line-height: 40px;
  }
  footer img {
    height: 40px;
    vertical-align: middle;
    width: 160px;
  }
  @media screen and (max-width: 992px) {
    footer {
      margin-bottom: 64px;
      padding-left: 1%;
      padding-right: 1%;
      width: 98%;
    }
    footer img {
      width: 100px;
    }
  }
</style>
</body>
</html>
