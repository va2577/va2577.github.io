<!DOCTYPE html>
<html><head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ブラウザーで ECMASCRIPT MODULES を使うことを調べました 4(UNIVERSAL MODULE DEFINITION) - Espresso &amp; Onigiri</title>
  <link rel="shortcut icon" href="/img/favicon.png" type="image/png">
  <link rel="apple-touch-icon" href="/img/apple-touch-icon.png">
  <link rel="stylesheet" href="/css/main.css">
</head>
<body><header>
  <ul>
    <li>
      <a href="/">
        
        <img src="/img/identicon.png" alt="icon">
        <span class="icon3">Espresso &amp; Onigiri</span>
      </a>
    </li>
    <li><a href="/post/">BLOG</a></li>
    <li><a href="/tags/">TAGS</a></li>
    <li><a href="/categories/">CATEGORIES</a></li>
    <li><a href="/about/">ABOUT</a></li>
    <li><a href="/privacy/">PRIVACY</a></li>
  </ul>
</header>
<style>
  header a {
    color: #2f495e;
  }
  header {
    align-items: center;
    border-bottom: #e2e8f0 solid 1px;
    display: flex;
    height: 92px;
    margin: 0px auto;
    width: 992px;
  }
  header > ul {
    align-items: center;
    display: flex;
    flex-direction: row;
    flex-wrap: wrap;
    justify-content: space-between;
    list-style-type: none;
    margin: 0px;
    padding: 0px;
    width: 100%;
  }
  header > ul > li:first-child > a {
    align-items: center;
    display: flex;
  }
  header .icon2 {
    font-size: 40px;
    color: #00c58e;
    margin-bottom: 10px;
  }
  header .icon3 {
    color: #2f495e;
    font-size: 24px;
    margin-left: 6px;
  }
  header img {
    display: inline-block;
    height: 40px;
    width: 40px;
  }
  @media screen and (max-width: 992px) {
    header {
      width: 640px;
    }
  }
</style>
<div id="content">
  <main>
    <h1>ブラウザーで ECMAScript Modules を使うことを調べました 4(Universal Module Definition)</h1>
    
      <div><time>April 4, 2018</time></div>
    
    
    <article>
      
        <aside class="ads">
  <div>広告</div>
  <div>
    <script async="" src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

    <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9305907051774965" data-ad-slot="2028899530" data-ad-format="auto"></ins>
    <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
  </div>
</aside>
<style>
  aside.ads {
    margin-bottom: 2.5rem;
    margin-top: 2.5rem;
  }
</style>

      
      <p><a href="/post/123/">前回の記事</a>では、 SystemJS を使ってみました。
今回は、 Universal Module Definition を使ってみます。</p>
<h2 id="環境">環境</h2>
<ul>
<li>babel-cli 6.26.0</li>
<li>babel-preset-env 1.6.1</li>
<li>babel-plugin-transform-es2015-modules-umd 6.24.1</li>
<li>RequireJS 2.3.5</li>
<li>Browserify 16.1.1</li>
<li>Microsoft Edge 16.16299</li>
<li>Firefox 59.0.2</li>
</ul>
<h2 id="es2015-modules-umd">es2015-modules-umd</h2>
<blockquote>
<p>This plugin transforms ES2015 modules to UMD.</p>
<p><a href="https://github.com/umdjs/umd">Universal Module Definition (UMD)</a></p>
<p><cite><a href="https://babeljs.io/docs/plugins/transform-es2015-modules-umd/">ES2015 modules to UMD transform · Babel</a></cite></p>
</blockquote>
<p>これは、 Universal Module Definition (UMD) という仕様に合わせてトランスパイルするための、 Babel のプラグインのようです。</p>
<h2 id="universal-module-definition-umd">Universal Module Definition (UMD)</h2>
<blockquote>
<p>UMD (Universal Module Definition) patterns for JavaScript modules that work everywhere.</p>
<p>UMD (Universal Module Definition)</p>
<p>This repository formalizes the design and implementation of the Universal Module Definition (UMD) API for JavaScript modules. These are modules which are capable of working everywhere, be it in the client, on the server or elsewhere.</p>
<p>The UMD pattern typically attempts to offer compatibility with the most popular script loaders of the day (e.g RequireJS amongst others). In many cases it uses AMD as a base, with special-casing added to handle CommonJS compatibility.</p>
<p><cite><a href="https://github.com/umdjs/umd">GitHub - umdjs/umd: UMD (Universal Module Definition) patterns for JavaScript modules that work everywhere.</a></cite></p>
</blockquote>
<p>仕様というより、パターン、のように受け取りました。</p>
<p>クライアントでも、サーバーでも動かせるモジュールを定義するためのパターンのようです。</p>
<p>モジュールを定義する仕様として、 Asynchronous Module Definition(AMD) がベースにあって、 CommonJS Modules も互換性のために使うようです。</p>
<h2 id="examples">Examples</h2>
<p><a href="/post/123/">前回の記事</a>と同様に、 MDN Web Docs の export のページの Examples を使って進めてみます。</p>
<h3 id="babel-のインストール">Babel のインストール</h3>
<p>パッケージをインストールしました。</p>
<pre><code>$ npm install --save-dev babel-cli babel-preset-env babel-plugin-transform-es2015-modules-umd
</code></pre><h3 id="babel-の設定ファイル">Babel の設定ファイル</h3>
<blockquote>
<p>Usage</p>
<p>Via .babelrc (Recommended)</p>
<p>.babelrc</p>
<pre><code>{
  &quot;plugins&quot;: [&quot;transform-es2015-modules-umd&quot;]
}
</code></pre>
<p><cite><a href="https://babeljs.io/docs/plugins/transform-es2015-modules-umd/">ES2015 modules to UMD transform · Babel</a></cite></p>
</blockquote>
<p>Babel の設定ファイル (.babelrc) を次のように作成しました。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json">{
  <span style="color:#f92672">&#34;presets&#34;</span>: [<span style="color:#e6db74">&#34;env&#34;</span>],
  <span style="color:#f92672">&#34;plugins&#34;</span>: [<span style="color:#e6db74">&#34;transform-es2015-modules-umd&#34;</span>]
}
</code></pre></div><h3 id="トランスパイル">トランスパイル</h3>
<p>トランスパイルします。
ECMAScript Modules のコードを src/ ディレクトリーに保存しておいて、 UMD のコードを lib/ ディレクトリーに出力します。</p>
<pre><code>$ ./node_modules/.bin/babel src/ -d lib/
src/main.js -&gt; lib/main.js
src/my-module.js -&gt; lib/my-module.js
</code></pre><h3 id="my-modulejs">my-module.js</h3>
<p>トランスパイルされたファイルです。
最初に、 my-module.js です。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">(<span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">global</span>, <span style="color:#a6e22e">factory</span>) {
  <span style="color:#66d9ef">if</span> (<span style="color:#66d9ef">typeof</span> <span style="color:#a6e22e">define</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#34;function&#34;</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#a6e22e">define</span>.<span style="color:#a6e22e">amd</span>) {
    <span style="color:#a6e22e">define</span>([<span style="color:#e6db74">&#39;exports&#39;</span>], <span style="color:#a6e22e">factory</span>);
  } <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> (<span style="color:#66d9ef">typeof</span> <span style="color:#a6e22e">exports</span> <span style="color:#f92672">!==</span> <span style="color:#e6db74">&#34;undefined&#34;</span>) {
    <span style="color:#a6e22e">factory</span>(<span style="color:#a6e22e">exports</span>);
  } <span style="color:#66d9ef">else</span> {
    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">mod</span> <span style="color:#f92672">=</span> {
      <span style="color:#a6e22e">exports</span><span style="color:#f92672">:</span> {}
    };
    <span style="color:#a6e22e">factory</span>(<span style="color:#a6e22e">mod</span>.<span style="color:#a6e22e">exports</span>);
    <span style="color:#a6e22e">global</span>.<span style="color:#a6e22e">myModule</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">mod</span>.<span style="color:#a6e22e">exports</span>;
  }
})(<span style="color:#66d9ef">this</span>, <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">exports</span>) {
  <span style="color:#e6db74">&#39;use strict&#39;</span>;

  Object.<span style="color:#a6e22e">defineProperty</span>(<span style="color:#a6e22e">exports</span>, <span style="color:#e6db74">&#34;__esModule&#34;</span>, {
    <span style="color:#a6e22e">value</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span>
  });
  <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">cube</span>(<span style="color:#a6e22e">x</span>) {
    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">x</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">x</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">x</span>;
  }
  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">foo</span> <span style="color:#f92672">=</span> Math.<span style="color:#a6e22e">PI</span> <span style="color:#f92672">+</span> Math.<span style="color:#a6e22e">SQRT2</span>;
  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">graph</span> <span style="color:#f92672">=</span> {
    <span style="color:#a6e22e">options</span><span style="color:#f92672">:</span> {
      <span style="color:#a6e22e">color</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;white&#39;</span>,
      <span style="color:#a6e22e">thickness</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;2px&#39;</span>
    },
    <span style="color:#a6e22e">draw</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">draw</span>() {
      <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;From graph draw function&#39;</span>);
    }
  };
  <span style="color:#a6e22e">exports</span>.<span style="color:#a6e22e">cube</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">cube</span>;
  <span style="color:#a6e22e">exports</span>.<span style="color:#a6e22e">foo</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">foo</span>;
  <span style="color:#a6e22e">exports</span>.<span style="color:#a6e22e">graph</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">graph</span>;
});
</code></pre></div><p>3 行目の <code>define(['exports'], factory);</code> が AMD で、 5 行目の <code>factory(exports);</code> が CommonJS Modules かな。</p>
<p>全体が即時関数のパターンになっていて、 1 行目の 2 つ目の引数 <code>factory</code> は、 13 行目から始まる関数 <code>function (exports) {</code> が渡されているようです。</p>
<h3 id="mainjs">main.js</h3>
<p>次に、 main.js です。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">(<span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">global</span>, <span style="color:#a6e22e">factory</span>) {
  <span style="color:#66d9ef">if</span> (<span style="color:#66d9ef">typeof</span> <span style="color:#a6e22e">define</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#34;function&#34;</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#a6e22e">define</span>.<span style="color:#a6e22e">amd</span>) {
    <span style="color:#a6e22e">define</span>([<span style="color:#e6db74">&#39;./my-module.js&#39;</span>], <span style="color:#a6e22e">factory</span>);
  } <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> (<span style="color:#66d9ef">typeof</span> <span style="color:#a6e22e">exports</span> <span style="color:#f92672">!==</span> <span style="color:#e6db74">&#34;undefined&#34;</span>) {
    <span style="color:#a6e22e">factory</span>(<span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;./my-module.js&#39;</span>));
  } <span style="color:#66d9ef">else</span> {
    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">mod</span> <span style="color:#f92672">=</span> {
      <span style="color:#a6e22e">exports</span><span style="color:#f92672">:</span> {}
    };
    <span style="color:#a6e22e">factory</span>(<span style="color:#a6e22e">global</span>.<span style="color:#a6e22e">myModule</span>);
    <span style="color:#a6e22e">global</span>.<span style="color:#a6e22e">main</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">mod</span>.<span style="color:#a6e22e">exports</span>;
  }
})(<span style="color:#66d9ef">this</span>, <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">_myModule</span>) {
  <span style="color:#e6db74">&#39;use strict&#39;</span>;

  <span style="color:#a6e22e">_myModule</span>.<span style="color:#a6e22e">graph</span>.<span style="color:#a6e22e">options</span> <span style="color:#f92672">=</span> {
    <span style="color:#a6e22e">color</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;blue&#39;</span>,
    <span style="color:#a6e22e">thickness</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;3px&#39;</span>
  };

  <span style="color:#a6e22e">_myModule</span>.<span style="color:#a6e22e">graph</span>.<span style="color:#a6e22e">draw</span>();
  <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>((<span style="color:#ae81ff">0</span>, <span style="color:#a6e22e">_myModule</span>.<span style="color:#a6e22e">cube</span>)(<span style="color:#ae81ff">3</span>)); <span style="color:#75715e">// 27
</span><span style="color:#75715e"></span>  <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">_myModule</span>.<span style="color:#a6e22e">foo</span>); <span style="color:#75715e">// 4.555806215962888
</span><span style="color:#75715e"></span>});
</code></pre></div><p>3 行目の <code>define(['./my-module.js'], factory);</code> や、 5 行目の <code>factory(require('./my-module.js'));</code> で、 my-module.js を読み込んでいるようです。</p>
<h3 id="amd">AMD</h3>
<p>最初に、 AMD として読み込んでみます。</p>
<p><a href="/post/120/">ブラウザーで ECMAScript Modules を使うことを調べました 1(Asynchronous Module Definition)</a> のように、 RequireJS を使います。</p>
<h4 id="amdhtml">amd.html</h4>
<p>次のような HTML ファイルを作成しました。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html"><span style="color:#75715e">&lt;!--</span><span style="color:#75715e"> amd.html </span><span style="color:#75715e">--&gt;</span>
<span style="color:#75715e">&lt;!DOCTYPE html&gt;</span>
&lt;<span style="color:#f92672">html</span>&gt;
  &lt;<span style="color:#f92672">head</span>&gt;
    &lt;<span style="color:#f92672">meta</span> <span style="color:#a6e22e">charset</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;utf-8&#34;</span>&gt;
    &lt;<span style="color:#f92672">title</span>&gt;My Sample Project&lt;/<span style="color:#f92672">title</span>&gt;
    <span style="color:#75715e">&lt;!--</span><span style="color:#75715e"> data</span><span style="color:#75715e">-</span><span style="color:#75715e">main attribute tells require.js to load
</span><span style="color:#75715e">      scripts/main.js after require.js loads. </span><span style="color:#75715e">--&gt;</span>
    &lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">data-main</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;./main&#34;</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;//requirejs.org/docs/release/2.3.5/minified/require.js&#34;</span>&gt;&lt;/<span style="color:#f92672">script</span>&gt;
  &lt;/<span style="color:#f92672">head</span>&gt;
  &lt;<span style="color:#f92672">body</span>&gt;
    &lt;<span style="color:#f92672">h1</span>&gt;My Sample Project&lt;/<span style="color:#f92672">h1</span>&gt;
  &lt;/<span style="color:#f92672">body</span>&gt;
&lt;/<span style="color:#f92672">html</span>&gt;
</code></pre></div><p>このファイルをトランスパイルしたディレクトリー (lib/) に保存しました。</p>
<h4 id="実行">実行</h4>
<p>ブラウザーから amd.html を開きます。</p>
<p>すると、コンソールに次のように出力されました。</p>
<pre><code>From graph draw function
27
4.555806215962888
</code></pre><p>AMD のモジュールとして、ブラウザーから動的に読み込めたようです。</p>
<h3 id="commonjs-modules">CommonJS Modules</h3>
<p>次に、 CommonJS Modules として読み込んでみます。</p>
<p><a href="/post/122/">ブラウザーで ECMAScript Modules を使うことを調べてみました 2(CommonJS Modules)</a> のように、 Browserify を使って事前にバンドルします。</p>
<p>Browserify って、 AMD の <code>define</code> 使わないよね？
と思って調べてみました。</p>
<blockquote>
<p>CommonJS</p>
<p>Browserify works natively with the CommonJS module definition:</p>
<p>…略…</p>
<p>AMD</p>
<p>Browserify can consume AMD modules with deamdify:</p>
<p><cite><a href="https://dontkry.com/posts/code/browserify-and-the-universal-module-definition.html">dontkry.com</a></cite></p>
</blockquote>
<p>CommonJS Modules はそのままの Browserify で動かせるようです。
deamdify というパッケージと合わせて使うことで、 Browserify でも AMD を動かせるようです。
なので、今回は、そのままの Browserify を使うことで、 CommonJS Modules として読み込めていることを確かめられそうです。</p>
<h4 id="browserify-のインストール">Browserify のインストール</h4>
<p>Browserify をインストールします。</p>
<pre><code>$ npm install --save-dev browserify
</code></pre><h4 id="バンドル">バンドル</h4>
<p>バンドルします。</p>
<pre><code>$ ./node_modules/.bin/browserify lib/main.js -o lib/bundle.js
</code></pre><h4 id="commonjshtml">commonjs.html</h4>
<p>次のような HTML ファイルを作成しました。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html"><span style="color:#75715e">&lt;!--</span><span style="color:#75715e"> commonjs.html </span><span style="color:#75715e">--&gt;</span>
<span style="color:#75715e">&lt;!DOCTYPE html&gt;</span>
&lt;<span style="color:#f92672">html</span>&gt;
  &lt;<span style="color:#f92672">head</span>&gt;
    &lt;<span style="color:#f92672">meta</span> <span style="color:#a6e22e">charset</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;utf-8&#34;</span>&gt;
    &lt;<span style="color:#f92672">title</span>&gt;CommonJS&lt;/<span style="color:#f92672">title</span>&gt;
  &lt;/<span style="color:#f92672">head</span>&gt;
  &lt;<span style="color:#f92672">body</span>&gt;
    &lt;<span style="color:#f92672">h1</span>&gt;CommonJS&lt;/<span style="color:#f92672">h1</span>&gt;
    &lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;bundle.js&#34;</span>&gt;&lt;/<span style="color:#f92672">script</span>&gt;
  &lt;/<span style="color:#f92672">body</span>&gt;
&lt;/<span style="color:#f92672">html</span>&gt;
</code></pre></div><p>このファイルをトランスパイルしたディレクトリー (lib/) に保存しました。</p>
<h4 id="実行-1">実行</h4>
<p>ブラウザーから commonjs.html を開きます。</p>
<p>すると、コンソールに次のように出力されました。</p>
<pre><code>From graph draw function
27
4.555806215962888
</code></pre><p>CommonJS Modules として読み込めたようです。</p>
<h2 id="終わり">終わり</h2>
<p>UMD は、クライアントでも、サーバーでも動かせるモジュールの定義のようですが、ここまで共通にする必要のあるライブラリーみたいなものを作ったことがないので、あまりメリットを感じられませんでした。
でも、 Babel が勝手にやってくれるなら、 AMD, CommonJS Modules のどちらか一方にするよりも、 UMD にした方がよさそうに感じました。</p>
<hr>
<p>これで、 Babel のプラグインの 4 つが確認できました。</p>
<ul>
<li>es2015-modules-amd</li>
<li>es2015-modules-commonjs</li>
<li>es2015-modules-systemjs</li>
<li>es2015-modules-umd</li>
</ul>
<p>結局、どれがいいのだろう？
個人的には、 Node.js Modules で慣れていたので、 CommonJS Modules を使いたいと思いました。
まだ、 ECMAScript Modules を使う気にはなれませんでした。</p>
<p>SystemJS は AMD も CommonJS Modules も読み込めるので、ローダーとして使ってもよさそうに思いました。
が、 SystemJS は使わずに、 webpack でバンドルして動かした方がいいのかな。</p>
<hr>
<p>トレンドです。</p>
<script type="text/javascript" src="https://ssl.gstatic.com/trends_nrtr/1328_RC04/embed_loader.js"></script>
<script type="text/javascript">
  trends.embed.renderExploreWidget("TIMESERIES", {"comparisonItem":[{"keyword":"Asynchronous Module Definition","geo":"","time":"2004-01-01 2018-04-04"},{"keyword":"CommonJS","geo":"","time":"2004-01-01 2018-04-04"},{"keyword":"SystemJS","geo":"","time":"2004-01-01 2018-04-04"},{"keyword":"Universal Module Definition","geo":"","time":"2004-01-01 2018-04-04"},{"keyword":"RequireJS","geo":"","time":"2004-01-01 2018-04-04"}],"category":0,"property":""}, {"exploreQuery":"date=all&q=Asynchronous%20Module%20Definition,CommonJS,SystemJS,Universal%20Module%20Definition,RequireJS","guestPath":"https://trends.google.com:443/trends/embed/"});
</script>
<p>AMD や UMD は仕様やパターンなので、すごく低いです。
AMD の実装の RequireJS はすごく高いし、判断するのに困ります。
どうせならすぐに消えてしまわないものを採用したいです。</p>
<h2 id="参考">参考</h2>
<p>次の記事に、 AMD, CommonJS, UMD あたりの経緯が記載されていて、勉強になりました。</p>
<ul>
<li><a href="https://tsuchikazu.net/javascript-module/">JavaScriptのモジュール管理(CommonJSとかAMDとかBrowserifyとかwebpack) | tsuchikazu blog</a></li>
<li><a href="http://blog.walfo.jp/modular-javascript/">Modular JavaScript , CommonJs, AMD, UMD について – Supertrue</a></li>
</ul>
      
        <aside class="ads">
  <div>広告</div>
  <div>
    <script async="" src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

    <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9305907051774965" data-ad-slot="2028899530" data-ad-format="auto"></ins>
    <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
  </div>
</aside>
<style>
  aside.ads {
    margin-bottom: 2.5rem;
    margin-top: 2.5rem;
  }
</style>

      
    </article>
  </main>

        </div><footer>
  <div>&copy; 2015 Espresso &amp; Onigiri</div>
  
  <a href="https://gohugo.io">
    <img alt="Hugo" src="/img/hugo-logo-wide.svg">
  </a>
</footer>
<style>
  footer {
    align-items: center;
    border-top: #e2e8f0 solid 1px;
    display: flex;
    flex-direction: row;
    flex-wrap: wrap;
    height: 73px;
    justify-content: space-between;
    margin: 0px auto;
    width: 992px;
  }
  footer img {
    height: 40px;
    width: 160px;
  }
  @media screen and (max-width: 992px) {
    footer {
      width: 640px;
    }
  }
</style>
</body>
</html>
